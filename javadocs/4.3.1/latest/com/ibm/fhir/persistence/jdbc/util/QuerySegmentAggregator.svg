<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="513px" preserveAspectRatio="none" style="width:477px;height:513px;" version="1.1" viewBox="0 0 477 513" width="477px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ptlldp18erht" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[d9a65b5574129e3e9c9a474a10e1f7c2]
class com.ibm.fhir.persistence.jdbc.util.QuerySegmentAggregator--><a href="QuerySegmentAggregator.html" target="_top" title="QuerySegmentAggregator.html" xlink:actuate="onRequest" xlink:href="QuerySegmentAggregator.html" xlink:show="new" xlink:title="QuerySegmentAggregator.html" xlink:type="simple"><rect fill="#FEFECE" filter="url(#f1ptlldp18erht)" height="476.4922" id="com.ibm.fhir.persistence.jdbc.util.QuerySegmentAggregator" style="stroke: #A80036; stroke-width: 1.5;" width="459" x="7" y="7"/><ellipse cx="141.75" cy="25.9688" fill="#ADD1B2" rx="11" ry="11" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M144.7188,31.6094 Q144.1406,31.9063 143.5,32.0469 Q142.8594,32.2031 142.1563,32.2031 Q139.6563,32.2031 138.3281,30.5625 Q137.0156,28.9063 137.0156,25.7813 Q137.0156,22.6563 138.3281,21 Q139.6563,19.3438 142.1563,19.3438 Q142.8594,19.3438 143.5,19.5 Q144.1563,19.6563 144.7188,19.9531 L144.7188,22.6719 Q144.0938,22.0938 143.5,21.8281 Q142.9063,21.5469 142.2813,21.5469 Q140.9375,21.5469 140.25,22.625 Q139.5625,23.6875 139.5625,25.7813 Q139.5625,27.875 140.25,28.9531 Q140.9375,30.0156 142.2813,30.0156 Q142.9063,30.0156 143.5,29.75 Q144.0938,29.4688 144.7188,28.8906 L144.7188,31.6094 Z "/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="181" x="162.25" y="24.9951">QuerySegmentAggregator</text><text fill="#000000" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="158" x="173.75" y="37.5791">com.ibm.fhir.persistence.jdbc.util</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8" x2="465" y1="44.9375" y2="44.9375"/><polygon fill="none" points="18,50.9375,22,54.9375,18,58.9375,14,54.9375" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="123" x="27" y="59.1479">SELECT_ROOT: String</text><polygon fill="none" points="18,63.7422,22,67.7422,18,71.7422,14,67.7422" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="214" x="27" y="71.9526">SYSTEM_LEVEL_SELECT_ROOT: String</text><polygon fill="none" points="18,76.5469,22,80.5469,18,84.5469,14,80.5469" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="238" x="27" y="84.7573">SYSTEM_LEVEL_SUBSELECT_ROOT: String</text><polygon fill="none" points="18,89.3516,22,93.3516,18,97.3516,14,93.3516" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="169" x="27" y="97.562">SELECT_COUNT_ROOT: String</text><polygon fill="none" points="18,102.1563,22,106.1563,18,110.1563,14,106.1563" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="260" x="27" y="110.3667">SYSTEM_LEVEL_SELECT_COUNT_ROOT: String</text><polygon fill="none" points="18,114.9609,22,118.9609,18,122.9609,14,118.9609" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="284" x="27" y="123.1714">SYSTEM_LEVEL_SUBSELECT_COUNT_ROOT: String</text><polygon fill="none" points="18,127.7656,22,131.7656,18,135.7656,14,131.7656" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="168" x="27" y="135.9761">WHERE_CLAUSE_ROOT: String</text><ellipse cx="18" cy="145.5703" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="53" x="27" y="148.7808">ID: String</text><ellipse cx="18" cy="158.375" fill="none" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="144" x="27" y="161.5854">ID_COLUMN_NAME: String</text><polygon fill="none" points="18,166.1797,22,170.1797,18,174.1797,14,170.1797" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="148" x="27" y="174.3901">SKIP_WHERE: Set&lt;String&gt;</text><polygon fill="none" points="18,178.9844,22,182.9844,18,186.9844,14,182.9844" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="27" y="187.1948">resourceType: Class&lt;?&gt;</text><polygon fill="none" points="18,191.7891,22,195.7891,18,199.7891,14,195.7891" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="214" x="27" y="199.9995">querySegments: List&lt;SqlQueryData&gt;</text><polygon fill="none" points="18,204.5938,22,208.5938,18,212.5938,14,208.5938" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="27" y="212.8042">searchQueryParameters: List&lt;QueryParameter&gt;</text><polygon fill="none" points="18,217.3984,22,221.3984,18,225.3984,14,221.3984" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="226" x="27" y="225.6089">queryParamIds: List&lt;QueryParameter&gt;</text><polygon fill="none" points="18,230.2031,22,234.2031,18,238.2031,14,234.2031" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="142" x="27" y="238.4136">idsObjects: List&lt;Object&gt;</text><polygon fill="none" points="18,243.0078,22,247.0078,18,251.0078,14,247.0078" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="280" x="27" y="251.2183">queryParmLastUpdateds: List&lt;QueryParameter&gt;</text><polygon fill="none" points="18,255.8125,22,259.8125,18,263.8125,14,259.8125" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="193" x="27" y="264.0229">lastUpdatedObjects: List&lt;Object&gt;</text><polygon fill="none" points="18,268.6172,22,272.6172,18,276.6172,14,272.6172" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="174" x="27" y="276.8276">parameterDao: ParameterDAO</text><polygon fill="none" points="18,281.4219,22,285.4219,18,289.4219,14,285.4219" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="158" x="27" y="289.6323">resourceDao: ResourceDAO</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="8" x2="465" y1="296.2266" y2="296.2266"/><polygon fill="#FFFF44" points="18,302.2266,22,306.2266,18,310.2266,14,306.2266" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="433" x="27" y="310.437">QuerySegmentAggregator(Class&lt;?&gt;, int, int, ParameterDAO, ResourceDAO)</text><ellipse cx="18" cy="320.0313" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="216" x="27" y="323.2417">setResourceTypes(List&lt;String&gt;): void</text><polygon fill="#FFFF44" points="18,327.8359,22,331.8359,18,335.8359,14,331.8359" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="300" x="27" y="336.0464">addQueryData(SqlQueryData, QueryParameter): void</text><polygon fill="#FFFF44" points="18,340.6406,22,344.6406,18,348.6406,14,344.6406" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="155" x="27" y="348.8511">buildQuery(): SqlQueryData</text><polygon fill="#FFFF44" points="18,353.4453,22,357.4453,18,361.4453,14,357.4453" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="188" x="27" y="361.6558">buildCountQuery(): SqlQueryData</text><polygon fill="#FFFF44" points="18,366.25,22,370.25,18,374.25,14,370.25" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="356" x="27" y="374.4604">buildSystemLevelQuery(String, String, boolean): SqlQueryData</text><polygon fill="#FFFF44" points="18,379.0547,22,383.0547,18,387.0547,14,383.0547" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="250" x="27" y="387.2651">buildFromClause(StringBuilder, String): void</text><ellipse cx="18" cy="396.8594" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="297" x="27" y="400.0698">processFromClauseForId(StringBuilder, String): void</text><ellipse cx="18" cy="409.6641" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="358" x="27" y="412.8745">processFromClauseForLastUpdated(StringBuilder, String): void</text><polygon fill="#FFFF44" points="18,417.4688,22,421.4688,18,425.4688,14,421.4688" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="256" x="27" y="425.6792">buildWhereClause(StringBuilder, String): void</text><ellipse cx="18" cy="435.2734" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="247" x="27" y="438.4839">tableName(String, QueryParameter): String</text><ellipse cx="18" cy="448.0781" fill="#84BE84" rx="3" ry="3" style="stroke: #038048; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" text-decoration="underline" textLength="170" x="27" y="451.2886">abbr(QueryParameter): String</text><polygon fill="#FFFF44" points="18,455.8828,22,459.8828,18,463.8828,14,459.8828" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="183" x="27" y="464.0933">isSystemLevelSearch(): boolean</text><polygon fill="#FFFF44" points="18,468.6875,22,472.6875,18,476.6875,14,472.6875" style="stroke: #B38D22; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="239" x="27" y="476.8979">addPaginationClauses(StringBuilder): void</text></a><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="186" x="143.5" y="499.7744">UMLDoclet 2.0.7, PlantUML 1.2019.12</text><!--MD5=[d7c752fab369242b900100b0aefee122]
@startuml
    set namespaceSeparator none
    hide empty fields
    hide empty methods

    class "<size:14>QuerySegmentAggregator\n<size:10>com.ibm.fhir.persistence.jdbc.util" as com.ibm.fhir.persistence.jdbc.util.QuerySegmentAggregator [[QuerySegmentAggregator.html]] {
        {static} #SELECT_ROOT: String
        {static} #SYSTEM_LEVEL_SELECT_ROOT: String
        {static} #SYSTEM_LEVEL_SUBSELECT_ROOT: String
        {static} #SELECT_COUNT_ROOT: String
        {static} #SYSTEM_LEVEL_SELECT_COUNT_ROOT: String
        {static} #SYSTEM_LEVEL_SUBSELECT_COUNT_ROOT: String
        {static} #WHERE_CLAUSE_ROOT: String
        {static} +ID: String
        {static} +ID_COLUMN_NAME: String
        {static} #SKIP_WHERE: Set<String>
        #resourceType: Class<?>
        #querySegments: List<SqlQueryData>
        #searchQueryParameters: List<QueryParameter>
        #queryParamIds: List<QueryParameter>
        #idsObjects: List<Object>
        #queryParmLastUpdateds: List<QueryParameter>
        #lastUpdatedObjects: List<Object>
        #parameterDao: ParameterDAO
        #resourceDao: ResourceDAO
        #QuerySegmentAggregator(Class<?>, int, int, ParameterDAO, ResourceDAO)
        +setResourceTypes(List<String>): void
        #addQueryData(SqlQueryData, QueryParameter): void
        #buildQuery(): SqlQueryData
        #buildCountQuery(): SqlQueryData
        #buildSystemLevelQuery(String, String, boolean): SqlQueryData
        #buildFromClause(StringBuilder, String): void
        +processFromClauseForId(StringBuilder, String): void
        +processFromClauseForLastUpdated(StringBuilder, String): void
        #buildWhereClause(StringBuilder, String): void
        {static} +tableName(String, QueryParameter): String
        {static} +abbr(QueryParameter): String
        #isSystemLevelSearch(): boolean
        #addPaginationClauses(StringBuilder): void
    }

    center footer UMLDoclet 2.0.7, PlantUML 1.2019.12
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(APACHE source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>